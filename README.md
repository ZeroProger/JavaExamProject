<h1 align="center">Итоговый проект по курсу Java на платформе ULearn</h1>
<h2 align="center">Вариант 1. База СПБ.</h2>
<div>
  <h3>Ход решения</h3>
  <ol>
    <li><a href="#1">Написать модель</a></li>
    <li><a href="#2">Написать парсер CSV файла</a></li>
    <li><a href="#3">Заполнить базу данных данными с парсера</a></li>
    <li><a href="#4">Разработать sql-запросы для получения данных к каждой задаче</a></li>
    <li><a href="#5">Написать методы для получения из базы готовых к выводу данных для каждой задаче</a></li>
    <li><a href="#6">Построить график для 1ого задания</a></li>
    <li><a href="#7">Получить и вывести ответы для 2ого и 3его заданий</a></li>
    <li><a href="#result">Выводы</a></li>
  </ol>
</div>
<div id="1">
    <h3>Написать модель</h3>
    <p>Для хранение данных до момента заполнения ими базы мною была написана следующая простенькая модель:</p>
    <img src="screens/model.png">
</div>
<div id="2">
    <h3>Написать парсер CSV файла</h3>
    <p>Дабы распарсить CSV-файл я применил библиотеку OpenCSV. С её помощью я легко распарсил файл.</p>
    <p>Сначала я проверяю, установлено ли соединение с базой, далее получаю все строки CSV файла. После я сравниваю кол-во строк в уже существующей базе с кол-вом строк, полученным из CSV-файла. Если они различаются, я запускаю перезапись данных в базу. Это нужно, чтобы не записывать данные в базу, при каждом запуске программы, а только если CSV-файл был изменён.</p>
<img src="screens/parser.png" style="max-width: 600px; height: auto;">
</div>
<div id="3">
    <h3>Заполнить базу данных данными с парсера</h3>
    <p>Функция, которая вызывается, если CSV-файл был изменён, она инициализирует модель и заполняет её поля данными с парсера.</p>
    <img src="screens/write_to_base.png">
    <p>Функция, которая вставляет в базу строку, заполненную данными текущей модели.</p>
    <img src="screens/add_to_base.png">
    <p>SQL запрос для заполнение столбцов базы данными текущего строения</p></p>
    <img src="screens/add_to_base_sql.png">
</div>
<div id="4">
    <h3>Разработать sql-запросы для получения данных к каждой задаче</h3>
    <h4>1ая задача</h4>
    <img src="screens/task_1_sql.png">
    <h4>2ая задача</h4>
    <img src="screens/task_2_sql.png">
    <h4>3яя задача</h4>
    <img src="screens/task_3_sql.png">
</div>
<div id="5">
    <h3>Написать методы для получения из базы готовых к выводу данных для каждой задаче</h3>
    <h4>1ая задача</h4>
    <p>В первой задаче для хранения результирующих данных для построения графика, я использовал словрь, где ключюм была строка (скольки этажный дом), а значением - кол-во этажей.</p>
    <p>Делая запрос в базу я получаю все уникальные ключи (этажности). Загоняю их в этот словарь и далее преобразую это в TreeMap, дабы отсортировать словарь по ключам.</p>
    <p>Это сделать у меня получилось не очень хорошо, т.к. не хватило времени, из за большого объёма работ по Проектному практикуму. Поэтому график для 1 заданий будет немного кривоват, извиняюсь :)</p>
    <h4>2ая задача</h4>
    <p>В этой задаче я получал данные из базы в виде строки, и создавал лист моделей, возвращал его из функции, и по нему строил строку для вывода в консоль.</p>
    <h4>3яя задача</h4>
    <p>Тут всё максимально просто - сделал запрос в базу, получил нужные prefix_code, вычислил среднее значение, вернул из функции и вывел в консоль.</p>
    <h4>Более подробно со всем описанным в этом блоке можете ознакомиться в файле Main.java.</h4>
</div>
<div id="6">
    <h3>Построить график для 1ого задания</h3>
    <p>Во-первых, график получился довольно не ровным, из-за очень большого разброса значений.</p>
    <p>Во-вторых, как уже говорилось выше, сделать его более равномерным (расположить столбы отсортированными) я немного не успел, из-за чего выглядит не очень красиво.</p>
    <img src="screens/task_1_graphic.png">
</div>
<div id="7">
    <h3>Получить и вывести ответы для 2ого и 3его заданий</h3>
    <p>2 задание. Вывод моделей, полученных из функции, описанной выше.</p>
    <img src="screens/task_2_result.png">
    <p>3 задание. Вывод среднего значение prefix_code.</p>
    <img src="screens/task_3_result.png">
</div>
<div id="result">
    <h3>Выводы</h3>
    <p>Благодаря данной работе я научился парсить большие CSV файлы, заносить их в базу данных, делать различные проверки, чтобы оптимизировать программу.</p>
</div>